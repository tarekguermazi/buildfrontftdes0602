{"version":3,"file":"static/js/874.83179c1b.chunk.js","mappings":"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","sources":["modules/demandeAppui/demandeAppuiEnumerators.tsx","view/Appui/form/DemandeAppuiForm.tsx","modules/demandeAppui/form/demandeAppuiFormSelectors.tsx","view/Appui/form/AppuiFormPage.tsx","view/shared/uploaders/FilesUploader.tsx","view/shared/form/items/FilesFormItem.tsx","view/shared/form/items/InputFormItem.tsx","view/shared/form/items/TextAreaFormItem.tsx"],"sourcesContent":["const demandeAppuiEnumerators = {\r\n  type: [\r\n    'Legal',\r\n    'logistique',\r\n  ],\r\n  etat: [\r\n    'En_ligne',\r\n    'physique',\r\n  ],\r\n  gouvernorat: [\r\n    'tunis',\r\n    'ariana',\r\n    'gafsa',\r\n    'kasserine',\r\n    'monastir',\r\n    'sousse',\r\n    'beja',\r\n  ],\r\n  importance: [\r\n    'Haute',\r\n    'modere',\r\n    'normale',\r\n  ],\r\n};\r\n\r\nexport default demandeAppuiEnumerators;\r\n","import React, { useState } from \"react\";\r\nimport * as yup from \"yup\";\r\nimport yupFormSchemas from \"src/modules/shared/yup/yupFormSchemas\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { useForm, FormProvider } from \"react-hook-form\";\r\nimport demandeAppuiEnumerators from \"src/modules/demandeAppui/demandeAppuiEnumerators\";\r\nimport { i18n } from \"../../../i18n\";\r\nimport TextAreaFormItem from \"../../shared/form/items/TextAreaFormItem\";\r\nimport ButtonIcon from \"../../shared/ButtonIcon\";\r\nimport FilesFormItem from \"src/view/shared/form/items/FilesFormItem\";\r\nimport Storage from \"src/security/storage\";\r\nimport InputFormItem from \"src/view/shared/form/items/InputFormItem\";\r\n\r\nconst schema = yup.object().shape({\r\n\tgouvernorat: yupFormSchemas.enumerator(\r\n\t\ti18n(\"entities.demandeAppui.fields.gouvernorat\"),\r\n\t\t{\r\n\t\t\toptions: demandeAppuiEnumerators.gouvernorat,\r\n\t\t},\r\n\t),\r\n\tphoneNumber: yupFormSchemas.string(i18n(\"user.fields.phoneNumber\"), {\r\n\t\tmatches: /^[0-9]/,\r\n\t\tmax: 8,\r\n\t\trequired: true,\r\n\t}),\r\n\tdescriptionFR: yupFormSchemas.string(\r\n\t\ti18n(\"entities.demandeAppui.fields.description\"),\r\n\t\t{\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t),\r\n\tsupports: yupFormSchemas.files(\r\n\t\ti18n(\"entities.demandeAppui.fields.supports\"),\r\n\t\t{},\r\n\t),\r\n});\r\nfunction DemandeAppuiForm(props) {\r\n\tconst [activeTab, setActiveTab] = useState(\"physique\");\r\n\r\n\tconst [logistiqueTab, setlogistiqueTab] = useState(\"legal\");\r\n\r\n\tconst handleTab1 = () => {\r\n\t\t// update the state to tab1\r\n\t\tsetActiveTab(\"physique\");\r\n\t};\r\n\tconst handleTab2 = () => {\r\n\t\t// update the state to tab1\r\n\t\tsetActiveTab(\"Organisation\");\r\n\t};\r\n\r\n\tconst logistiqueTab1 = () => {\r\n\t\t// update the state to tab1\r\n\t\tsetlogistiqueTab(\"logistique\");\r\n\t};\r\n\tconst legalTab2 = () => {\r\n\t\t// update the state to tab1\r\n\t\tsetlogistiqueTab(\"legal\");\r\n\t};\r\n\r\n\tconst [initialValues] = useState(() => {\r\n\t\tconst record = props.record || {};\r\n\t\tsetActiveTab(record.personne);\r\n\t\tsetlogistiqueTab(record.types);\r\n\t\treturn {\r\n\t\t\temail: record.email,\r\n\t\t\tpersonne: record.personne,\r\n\t\t\tphoneNumber: record.phoneNumber,\r\n\t\t\tdescriptionFR: record.descriptionFR,\r\n\t\t\tsupports: record.supports || [],\r\n\t\t};\r\n\t});\r\n\r\n\tconst form = useForm({\r\n\t\tresolver: yupResolver(schema),\r\n\t\tmode: \"all\",\r\n\t\tdefaultValues: initialValues as any,\r\n\t});\r\n\tconst onReset = () => {\r\n\t\tObject.keys(initialValues).forEach((key) => {\r\n\t\t\tform.setValue(key, initialValues[key]);\r\n\t\t});\r\n\t};\r\n\r\n\tconst onSubmit = (values) => {\r\n\t\tvalues.personne = activeTab;\r\n\t\tvalues.statut = \"en_attente\";\r\n\t\tvalues.types = logistiqueTab;\r\n\t\tprops.onSubmit(props?.record?.id, values);\r\n\t};\r\n\tconst { saveLoading } = props;\r\n\r\n\treturn (\r\n\t\t<FormProvider {...form}>\r\n\t\t\t<form onSubmit={form.handleSubmit(onSubmit)}>\r\n\t\t\t\t<div className=\"container__form\">\r\n\t\t\t\t\t<div className=\"form__importance\">\r\n\t\t\t\t\t\t<label htmlFor=\"Importance\">Personne</label>\r\n\t\t\t\t\t\t<div className=\"importance__status\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={activeTab === \"physique\" ? \"status__active\" : \"\"}\r\n\t\t\t\t\t\t\t\tonClick={handleTab1}>\r\n\t\t\t\t\t\t\t\tphysique\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={activeTab === \"Organisation\" ? \"status__active\" : \"\"}\r\n\t\t\t\t\t\t\t\tonClick={handleTab2}>\r\n\t\t\t\t\t\t\t\tOrganisation\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form__importance\">\r\n\t\t\t\t\t\t<label htmlFor=\"Importance\">Type</label>\r\n\r\n\t\t\t\t\t\t<div className=\"importance__status\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={logistiqueTab === \"legal\" ? \"status__active\" : \"\"}\r\n\t\t\t\t\t\t\t\tonClick={legalTab2}>\r\n\t\t\t\t\t\t\t\tLegal\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\tlogistiqueTab === \"logistique\" ? \"status__active\" : \"\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tonClick={logistiqueTab1}>\r\n\t\t\t\t\t\t\t\tlogistique\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<InputFormItem\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\tlabel={i18n(\"user.fields.email\")}\r\n\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<InputFormItem\r\n\t\t\t\t\t\tname=\"phoneNumber\"\r\n\t\t\t\t\t\tlabel={i18n(\"user.fields.phoneNumber\")}\r\n\t\t\t\t\t\tautoComplete=\"phoneNumber\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<FilesFormItem\r\n\t\t\t\t\t\tname=\"supports\"\r\n\t\t\t\t\t\tlabel={i18n(\"entities.demandeAppui.fields.supports\")}\r\n\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t\tstorage={Storage.values.demandeAppuiSupports}\r\n\t\t\t\t\t\tmax={undefined}\r\n\t\t\t\t\t\tformats={undefined}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextAreaFormItem\r\n\t\t\t\t\t\tname=\"descriptionFR\"\r\n\t\t\t\t\t\tlabel={i18n(\"entities.demandeAppui.fields.description\")}\r\n\t\t\t\t\t\trequired={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"item__button\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"cancel__button\"\r\n\t\t\t\t\t\t\tonClick={onReset}\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tdisabled={saveLoading}>\r\n\t\t\t\t\t\t\t{i18n(\"common.reset\")}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName=\"form__button\"\r\n\t\t\t\t\t\t\tonClick={form.handleSubmit(onSubmit)}\r\n\t\t\t\t\t\t\tdisabled={saveLoading}>\r\n\t\t\t\t\t\t\t<ButtonIcon loading={saveLoading} />\r\n\t\t\t\t\t\t\t{i18n(\"common.save\")}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</FormProvider>\r\n\t);\r\n}\r\n\r\nexport default DemandeAppuiForm;\r\n","import { createSelector } from 'reselect';\r\n\r\nconst selectRaw = (state) => state.demandeAppui.form;\r\n\r\nconst selectRecord = createSelector(\r\n  [selectRaw],\r\n  (raw) => raw.record,\r\n);\r\n\r\nconst selectInitLoading = createSelector(\r\n  [selectRaw],\r\n  (raw) => Boolean(raw.initLoading),\r\n);\r\n\r\nconst selectSaveLoading = createSelector(\r\n  [selectRaw],\r\n  (raw) => Boolean(raw.saveLoading),\r\n);\r\n\r\nconst demandeAppuiFormSelectors = {\r\n  selectInitLoading,\r\n  selectSaveLoading,\r\n  selectRecord,\r\n  selectRaw,\r\n};\r\n\r\nexport default demandeAppuiFormSelectors;","import React, { useEffect, useState } from \"react\";\r\nimport FormWrapper from \"../../shared/styles/FormWrapper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DemandeAppuiForm from \"./DemandeAppuiForm\";\r\nimport actions from \"src/modules/demandeAppui/form/demandeAppuiFormActions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport selectors from \"src/modules/demandeAppui/form/demandeAppuiFormSelectors\";\r\nimport { getHistory } from \"src/modules/store\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Spinner from \"../../shared/Spinner\";\r\nimport { i18n } from \"../../../i18n\";\r\nimport Retour from \"../../shared/Retour\";\r\nfunction Appui(props) {\r\n  const [dispatched, setDispatched] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const match = useRouteMatch();\r\n\r\n  const initLoading = useSelector(selectors.selectInitLoading);\r\n  const saveLoading = useSelector(selectors.selectSaveLoading);\r\n  const record = useSelector(selectors.selectRecord);\r\n\r\n  const isEditing = Boolean(match.params.id);\r\n  const title = isEditing\r\n    ? \"entities.demandeAppui.edit.title\"\r\n    : \"entities.demandeAppui.new.title\";\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.doInit(match.params.id));\r\n    setDispatched(true);\r\n  }, [dispatch, match.params.id]);\r\n\r\n  const doSubmit = (id, data) => {\r\n    if (isEditing) {\r\n      dispatch(actions.doUpdate(id, data));\r\n    } else {\r\n      dispatch(actions.doCreate(data));\r\n    }\r\n  };\r\n  return (\r\n    <div className='app__contenu'>\r\n      <Link to='/profile'>\r\n        <Retour />\r\n      </Link>\r\n      <div className='contenu'>\r\n        <div className='archieve__header'>\r\n          <h2>{i18n(\"menu.demande_appui\")}</h2>\r\n          <div className='communiquer__bar'></div>\r\n        </div>\r\n        <div className='contenu__description'>\r\n          Description lorem ipsum dolor sit amet, consectetur adipiscing elit.\r\n          Nam cursus eros metus, sit amet scelerisque odio posuere eu. Sed vitae\r\n          pharetra lacus. Class aptent taciti sociosqu ad litora torquent per\r\n          conubia nostra\r\n        </div>\r\n\r\n        <FormWrapper>\r\n          <div className='Login__container'>\r\n            {initLoading && <Spinner />}\r\n            {dispatched && !initLoading && (\r\n              <DemandeAppuiForm\r\n                title={title}\r\n                saveLoading={saveLoading}\r\n                record={record}\r\n                isEditing={isEditing}\r\n                onSubmit={doSubmit}\r\n                onCancel={() => getHistory().push(\"/demande-appui\")}\r\n              />\r\n            )}\r\n          </div>\r\n        </FormWrapper>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Appui;\r\n","import React, { useRef, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FileUploader from \"src/modules/shared/fileupload/fileUploader\";\r\nimport Errors from \"src/modules/shared/error/errors\";\r\nimport { i18n } from \"src/i18n\";\r\nimport ButtonIcon from \"src/view/shared/ButtonIcon\";\r\n\r\nfunction FilesUploader(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  const input = useRef<any>();\r\n\r\n  const value = () => {\r\n    const { value } = props;\r\n    if (!value) {\r\n      return [];\r\n    }\r\n    return Array.isArray(value) ? value : [value];\r\n  };\r\n\r\n  const fileList = () => {\r\n    return value().map((item) => ({\r\n      uid: item.id || undefined,\r\n      name: item.name,\r\n      status: \"done\",\r\n      url: item.downloadUrl,\r\n    }));\r\n  };\r\n\r\n  const handleRemove = (id) => {\r\n    props.onChange(value().filter((item) => item.id !== id));\r\n  };\r\n\r\n  const handleChange = async (event) => {\r\n    try {\r\n      const files = event.target.files;\r\n\r\n      if (!files || !files.length) {\r\n        return;\r\n      }\r\n\r\n      let file = files[0];\r\n\r\n      FileUploader.validate(file, {\r\n        storage: props.storage,\r\n        formats: props.formats,\r\n      });\r\n      setLoading(true);\r\n      file = await FileUploader.upload(file, {\r\n        storage: props.storage,\r\n        formats: props.formats,\r\n      });\r\n      input.current.value = \"\";\r\n      setLoading(false);\r\n      props.onChange([...value(), file]);\r\n    } catch (error) {\r\n      input.current.value = \"\";\r\n      console.error(error);\r\n      setLoading(false);\r\n      Errors.showMessage(error);\r\n    }\r\n  };\r\n\r\n  const formats = () => {\r\n    const { schema } = props;\r\n    if (schema && schema.formats) {\r\n      return schema.formats.map((format) => `.${format}`).join(\",\");\r\n    }\r\n    return undefined;\r\n  };\r\n\r\n  const { max, readonly } = props;\r\n\r\n  const uploadButton = (\r\n    <label\r\n      className='btn btn-outline-secondary px-4 mb-2'\r\n      style={{ cursor: \"pointer\" }}>\r\n      <div className='upload__file'>\r\n        {i18n(\"fileUploader.upload\")}\r\n\r\n        <ButtonIcon loading={loading} iconClass='fas fa-plus' />\r\n      </div>\r\n      <input\r\n        style={{ display: \"none\" }}\r\n        disabled={loading || readonly}\r\n        accept={formats()}\r\n        type='file'\r\n        onChange={handleChange}\r\n        ref={input}\r\n      />\r\n    </label>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      {readonly || (max && fileList().length >= max) ? null : uploadButton}\r\n\r\n      {value() && value().length ? (\r\n        <div>\r\n          {value().map((item) => {\r\n            return (\r\n              <div className='file__show' key={item.id}>\r\n                <i className='fas fa-link text-muted mr-2'></i>\r\n                <a\r\n                  href={item.downloadUrl}\r\n                  target='_blank'\r\n                  rel='noopener noreferrer'\r\n                  download>\r\n                  {item.name}\r\n                </a>\r\n                {!readonly && (\r\n                  <button\r\n                    className='btn btn-link'\r\n                    type='button'\r\n                    onClick={() => handleRemove(item.id)}>\r\n                    <i className='fas fa-times'></i>\r\n                  </button>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nFilesUploader.propTypes = {\r\n  readonly: PropTypes.bool,\r\n  max: PropTypes.number,\r\n  formats: PropTypes.arrayOf(PropTypes.string),\r\n  storage: PropTypes.object,\r\n  value: PropTypes.any,\r\n  onChange: PropTypes.func,\r\n};\r\n\r\nexport default FilesUploader;\r\n","import PropTypes from \"prop-types\";\r\nimport React, { useEffect } from \"react\";\r\nimport FilesUploader from \"src/view/shared/uploaders/FilesUploader\";\r\nimport { useFormContext } from \"react-hook-form\";\r\nimport FormErrors from \"src/view/shared/form/formErrors\";\r\n\r\nfunction FilesFormItem(props) {\r\n  const {\r\n    label,\r\n    name,\r\n    hint,\r\n    storage,\r\n    formats,\r\n    max,\r\n    required,\r\n    externalErrorMessage,\r\n  } = props;\r\n\r\n  const {\r\n    register,\r\n    errors,\r\n    formState: { touched, isSubmitted },\r\n    setValue,\r\n    watch,\r\n  } = useFormContext();\r\n\r\n  useEffect(() => {\r\n    register({ name });\r\n  }, [register, name]);\r\n\r\n  const errorMessage = FormErrors.errorMessage(\r\n    name,\r\n    errors,\r\n    touched,\r\n    isSubmitted,\r\n    externalErrorMessage\r\n  );\r\n\r\n  return (\r\n    <div className='form-group'>\r\n      {Boolean(label) && (\r\n        <label\r\n          className={`col-form-label ${required ? \"required\" : null}`}\r\n          htmlFor={name}>\r\n          {label}\r\n        </label>\r\n      )}\r\n\r\n      <br />\r\n\r\n      <FilesUploader\r\n        storage={storage}\r\n        formats={formats}\r\n        value={watch(name)}\r\n        onChange={(value) => {\r\n          setValue(name, value, { shouldValidate: true, shouldDirty: true });\r\n          props.onChange && props.onChange(value);\r\n        }}\r\n        max={max}\r\n      />\r\n\r\n      <div className='invalid-feedback'>{errorMessage}</div>\r\n      {Boolean(hint) && <small className='form-text text-muted'>{hint}</small>}\r\n    </div>\r\n  );\r\n}\r\n\r\nFilesFormItem.defaultProps = {\r\n  max: undefined,\r\n  required: false,\r\n};\r\n\r\nFilesFormItem.propTypes = {\r\n  storage: PropTypes.object.isRequired,\r\n  formats: PropTypes.any,\r\n\r\n  required: PropTypes.bool,\r\n  name: PropTypes.string.isRequired,\r\n  label: PropTypes.string,\r\n  hint: PropTypes.string,\r\n  formItemProps: PropTypes.object,\r\n  max: PropTypes.number,\r\n};\r\n\r\nexport default FilesFormItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useFormContext } from \"react-hook-form\";\r\nimport FormErrors from \"src/view/shared/form/formErrors\";\r\n\r\nexport function InputFormItem(props) {\r\n  const {\r\n    label,\r\n    description,\r\n    name,\r\n    hint,\r\n    type,\r\n    placeholder,\r\n    autoFocus,\r\n    autoComplete,\r\n    required,\r\n    externalErrorMessage,\r\n    disabled,\r\n    endAdornment,\r\n  } = props;\r\n\r\n  const {\r\n    register,\r\n    errors,\r\n    formState: { touched, isSubmitted },\r\n  } = useFormContext();\r\n\r\n  const errorMessage = FormErrors.errorMessage(\r\n    name,\r\n    errors,\r\n    touched,\r\n    isSubmitted,\r\n    externalErrorMessage\r\n  );\r\n\r\n  return (\r\n    <div className='form__group'>\r\n      <div className={endAdornment ? \"input-group\" : \"\"}>\r\n        {Boolean(label) && (\r\n          <label className={`${required ? \"required\" : null}`} htmlFor={name}>\r\n            {label}\r\n          </label>\r\n        )}\r\n        {description}\r\n        <input\r\n          id={name}\r\n          name={name}\r\n          type={type}\r\n          ref={register}\r\n          onChange={(event) => {\r\n            props.onChange && props.onChange(event.target.value);\r\n          }}\r\n          onBlur={(event) => {\r\n            props.onBlur && props.onBlur(event);\r\n          }}\r\n          autoFocus={autoFocus || undefined}\r\n          autoComplete={autoComplete || undefined}\r\n          disabled={disabled}\r\n          className={`form-control ${errorMessage ? \"is-invalid\" : \"\"}`}\r\n        />\r\n        {endAdornment && (\r\n          <div className='input-group-append'>\r\n            <span className='input-group-text'>{endAdornment}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className='invalid-feedback'>{errorMessage}</div>\r\n      {Boolean(hint) && <small className='form-text text-muted'>{hint}</small>}\r\n    </div>\r\n  );\r\n}\r\n\r\nInputFormItem.defaultProps = {\r\n  type: \"text\",\r\n  required: false,\r\n};\r\n\r\nInputFormItem.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  label: PropTypes.string,\r\n  description: PropTypes.string,\r\n  hint: PropTypes.string,\r\n  autoFocus: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  prefix: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  autoComplete: PropTypes.string,\r\n  externalErrorMessage: PropTypes.string,\r\n  endAdornment: PropTypes.any,\r\n  onChange: PropTypes.any,\r\n};\r\n\r\nexport default InputFormItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useFormContext } from \"react-hook-form\";\r\nimport FormErrors from \"src/view/shared/form/formErrors\";\r\n\r\nfunction TextAreaFormItem(props) {\r\n  const {\r\n    label,\r\n    name,\r\n    hint,\r\n    size,\r\n    placeholder,\r\n    autoFocus,\r\n    autoComplete,\r\n    externalErrorMessage,\r\n    required,\r\n  } = props;\r\n\r\n  const sizeLabelClassName =\r\n    {\r\n      small: \"col-form-label-sm\",\r\n      large: \"col-form-label-lg\",\r\n    }[size] || \"\";\r\n\r\n  const sizeInputClassName =\r\n    {\r\n      small: \"form-control-sm\",\r\n      large: \"form-control-lg\",\r\n    }[size] || \"\";\r\n\r\n  const {\r\n    register,\r\n    errors,\r\n    formState: { touched, isSubmitted },\r\n  } = useFormContext();\r\n\r\n  const errorMessage = FormErrors.errorMessage(\r\n    name,\r\n    errors,\r\n    touched,\r\n    isSubmitted,\r\n    externalErrorMessage\r\n  );\r\n\r\n  return (\r\n    <div className='form_textarea'>\r\n      {Boolean(label) && (\r\n        <label\r\n          className={`col-form-label ${\r\n            required ? \"required\" : null\r\n          } ${sizeLabelClassName}`}\r\n          htmlFor={name}>\r\n          {label}\r\n        </label>\r\n      )}\r\n      <textarea\r\n        id={name}\r\n        name={name}\r\n        ref={register}\r\n        onChange={(event) => {\r\n          props.onChange && props.onChange(event.target.value);\r\n        }}\r\n        onBlur={(event) => {\r\n          props.onBlur && props.onBlur(event);\r\n        }}\r\n        placeholder={placeholder || undefined}\r\n        autoFocus={autoFocus || undefined}\r\n        autoComplete={autoComplete || undefined}\r\n        className={`form-control ${sizeInputClassName} ${\r\n          errorMessage ? \"is-invalid\" : \"\"\r\n        }`}\r\n      />\r\n      <div className='invalid-feedback'>{errorMessage}</div>\r\n      {Boolean(hint) && <small className='form-text text-muted'>{hint}</small>}\r\n    </div>\r\n  );\r\n}\r\n\r\nTextAreaFormItem.defaultProps = {\r\n  required: false,\r\n};\r\n\r\nTextAreaFormItem.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  required: PropTypes.bool,\r\n  label: PropTypes.string,\r\n  hint: PropTypes.string,\r\n  autoFocus: PropTypes.bool,\r\n  prefix: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  externalErrorMessage: PropTypes.string,\r\n};\r\n\r\nexport default TextAreaFormItem;\r\n"],"names":["type","etat","gouvernorat","importance","schema","yup","shape","yupFormSchemas","i18n","options","demandeAppuiEnumerators","phoneNumber","matches","max","required","descriptionFR","supports","props","useState","activeTab","setActiveTab","logistiqueTab","setlogistiqueTab","record","personne","types","email","initialValues","form","useForm","resolver","yupResolver","mode","defaultValues","onSubmit","values","statut","id","saveLoading","handleSubmit","className","htmlFor","onClick","InputFormItem","name","label","autoComplete","FilesFormItem","storage","Storage","undefined","formats","TextAreaFormItem","Object","keys","forEach","key","setValue","disabled","ButtonIcon","loading","selectRaw","state","demandeAppui","selectRecord","createSelector","raw","selectInitLoading","Boolean","initLoading","selectSaveLoading","dispatched","setDispatched","dispatch","useDispatch","match","useRouteMatch","useSelector","selectors","isEditing","params","title","useEffect","actions","to","Retour","FormWrapper","Spinner","data","onCancel","getHistory","push","setLoading","input","useRef","value","Array","isArray","handleChange","event","files","target","length","file","FileUploader","current","onChange","console","error","Errors","readonly","uploadButton","style","cursor","iconClass","display","accept","map","format","join","ref","item","uid","status","url","downloadUrl","href","rel","download","filter","hint","externalErrorMessage","useFormContext","register","errors","formState","touched","isSubmitted","watch","errorMessage","FormErrors","shouldValidate","shouldDirty","defaultProps","description","autoFocus","placeholder","endAdornment","onBlur","size","sizeLabelClassName","small","large","sizeInputClassName"],"sourceRoot":""}